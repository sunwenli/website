+++
date = "2018-05-10"
draft = false
tags = ["iOS","马甲包"]

title = "iOS马甲包如何避免苹果审核4.3打回"

+++

iOS马甲包如何避免苹果审核4.3打回<!--more-->

### iOS马甲包如何避免苹果审核4.3打回

#### 什么是4.3，为什么打回

开发者提交审核的APP被苹果审核为重复应用（苹果开发指南4.3条款），不允许上架，严重者会被封开发者账号。

#### 苹果审核机制

iOS包提交给苹果审核后，苹果那边会有 **机审** 和 **人工审核** 两种方式。

- 机审
  - 主要审核下包体力的二进制文件，这个过程中如果发现包体二进制相似度过高，回直接被4.3打回，不会进入人工审核流程。
- 人工审核
  - 走到这个流程是通过了机审，此时审核人员会用提审时开发者提供的游戏账号登录进游戏进行试玩，如果审核人员发现登录界面，游戏场景，美术UI相似度过高，仍然有可能会被4.3打回。


#### 如何避免4.3

方法有三，同时使用效果更佳：

1. ##### 使用不同的电脑+IP，出证书，打包

   > 通过和苹果内部人员沟通了解到公司的IP已经被苹果列入重点审核名单，使用公司网络出的证书+打包都很容易被苹果审核为重复应用4.3打回。

   **应对策略就是使用 4G网络出证书，打包设备也连接4G网络。**

2. ##### 垃圾代码

   > 关于垃圾代码有一个量的把握，一个包应该加多少垃圾代码，之前调研的数量是总代码量的30%。对于客户端APP类游戏我们提供的是200个类，微端类APP游戏我们提供40个类。通过最近提审的情况看，这个量还不够，需要各扩大一倍，客户端类游戏提供400个类，微端类提供80个类。（ps. 某合作方提供的类401个）

3. ##### 游戏资源（场景+美术）

   > 对于游戏资源和垃圾代码类似，某合作方的做法是加入了 600 张图片作为垃圾图片资源（其实就是后缀为png的文件，打不开的）。每次都把图片的hash值改掉，这样就可以达到每次都是不重复的图片资源的效果。修改hash可以借鉴他们提供的一个工具，Windows版的。

   > 游戏界面和场景尽量修改（可能不用易）